<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cash Calculation Table</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .blue-input {
            background-color: #edf6ff;
        }
        .red-output {
            background-color: #f55454;
            color: white;
        }
        .orange-cell {
            font-weight: bold;

        }
        .yellow-cell {
            background-color: #FFFFE0;
        }
    </style>
</head>
<body>
    <div class="container table-responsive">
        <!-- Alerts for the first table -->
        <div id="alert-banknote-condition" class="alert alert-warning d-none" role="alert">
            Only 50€, 20€, or 10€ banknotes are selected!
        </div>
        <div id="alert-banknote-total" class="alert alert-danger d-none" role="alert">
            The total amount of banknotes is less than 500€!
        </div>
        <!-- Alert for the second table -->
        <div id="alert-coin-rolls" class="alert alert-warning d-none" role="alert">
            The total number of rolls is less than 10!
        </div>

        <!-- Rest of the HTML remains the same -->

        <!-- Banknotes Table -->
        <table class="table table-bordered table-sm">
            <thead class="thead-dark">
                <tr>
                    <th>Billet</th>
                    <th>Nombre</th>
                    <th>Montant</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>200 €</td>
                    <td><input type="number" class="form-control blue-input banknote-count" data-value="200"  value="10"></td>
                    <td class="amount">1000.00 €</td>
                </tr>
                <tr>
                    <td>100 €</td>
                    <td><input type="number" class="form-control blue-input banknote-count" data-value="100" value="10"></td>
                    <td class="amount">500.00 €</td>
                </tr>
                <tr>
                    <td>50 €</td>
                    <td><input type="number" class="form-control blue-input banknote-count" data-value="50" value="10"></td>
                    <td class="amount">250.00 €</td>
                </tr>
                <tr>
                    <td>20 €</td>
                    <td><input type="number" class="form-control blue-input banknote-count" data-value="20" value="10"></td>
                    <td class="amount">100.00 €</td>
                </tr>
                <tr>
                    <td>10 €</td>
                    <td><input type="number" class="form-control blue-input banknote-count" data-value="10" value="10"></td>
                    <td class="amount">50.00 €</td>
                </tr>
                <tr>
                    <td>5 €</td>
                    <td><input type="number" class="form-control blue-input banknote-count" data-value="5" value="10"></td>
                    <td class="amount">25.00 €</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td class="font-weight-bold">TOTAL</td>
                    <td class="font-weight-bold" id="banknote-total-count">0</td>
                    <td class="font-weight-bold red-output" id="banknote-total-amount">0 €</td>
                </tr>
            </tfoot>
        </table>

        <!-- Coins Table -->
        <table class="table table-bordered table-sm">
            <thead class="thead-dark">
                <tr>
                    <th>Pièce</th>
                    <th>Nb rouleaux</th>
                    <th>Nb pièce / rouleaux</th>
                    <th>Nb pièce</th>
                    <th>Montant</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>2,00 €</td>
                    <td><input type="number" class="form-control blue-input roll-count" data-value="2" value="10"></td>
                    <td class="orange-cell">25</td>
                    <td class="coin-count yellow-cell">50</td>
                    <td class="amount-t2">100.00 €</td>
                </tr>
                <tr>
                    <td>1,00 €</td>
                    <td><input type="number" class="form-control blue-input roll-count" data-value="1" value="10"></td>
                    <td class="orange-cell">25</td>
                    <td class="coin-count yellow-cell">50</td>
                    <td class="amount-t2">100.00 €</td>
                </tr>
                <tr>
                    <td>0,50 €</td>
                    <td><input type="number" class="form-control blue-input roll-count" data-value="0.5" value="10"></td>
                    <td class="orange-cell">40</td>
                    <td class="coin-count yellow-cell">80</td>
                    <td class="amount-t2">40.00 €</td>
                </tr>
                <tr>
                    <td>0,20 €</td>
                    <td><input type="number" class="form-control blue-input roll-count" data-value="0.2" value="10"></td>
                    <td class="orange-cell">50</td>
                    <td class="coin-count yellow-cell">100</td>
                    <td class="amount-t2">20.00 €</td>
                </tr>
                <tr>
                    <td>0,10 €</td>
                    <td><input type="number" class="form-control blue-input roll-count" data-value="0.1" value="10"></td>
                    <td class="orange-cell">40</td>
                    <td class="coin-count yellow-cell">80</td>
                    <td class="amount-t2">8.00 €</td>
                </tr>
                <tr>
                    <td>0,05 €</td>
                    <td><input type="number" class="form-control blue-input roll-count" data-value="0.05" value="10"></td>
                    <td class="orange-cell">40</td>
                    <td class="coin-count yellow-cell">80</td>
                    <td class="amount-t2">4.00 €</td>
                </tr>
                <tr>
                    <td>0,02 €</td>
                    <td><input type="number" class="form-control blue-input roll-count" data-value="0.02" value="10"></td>
                    <td class="orange-cell">50</td>
                    <td class="coin-count yellow-cell">250</td>
                    <td class="amount-t2">5.00 €</td>
                </tr>
                <tr>
                    <td>0,01 €</td>
                    <td><input type="number" class="form-control blue-input roll-count" data-value="0.01" value="10"></td>
                    <td class="orange-cell">50</td>
                    <td class="coin-count yellow-cell">250</td>
                    <td class="amount-t2">2.50 €</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td class="font-weight-bold">TOTAL</td>
                    <td class="font-weight-bold" id="roll-total-count">0</td>
                    <td style=" background: #343a40;"></td>
                    <td class="font-weight-bold" id="coin-total-count">0</td>
                    <td class="font-weight-bold red-output" id="coin-total-amount">0 €</td>
                </tr>
            </tfoot>
        </table>

        <!-- Total Amount -->
        <div class="row">
            <div class="col">
                <h4 class="font-weight-bold red-output text-center">Montant total: <span id="total-amount">4255.00 €</span></h4>
            </div>
        </div>
    </div>

    <!-- jQuery and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!--<script>
 
$(document).ready(function () {
    // Function to update banknotes table
    function updateBanknotes() {
        let totalBanknotes = 0;
        let totalAmount = 0;

        $('.banknote-count').each(function () {
            const count = parseInt($(this).val());
            const value = parseFloat($(this).data('value'));
            const amount = count * value;

            $(this).closest('tr').find('.amount').text(amount.toFixed(2) + ' €');
            totalBanknotes += count;
            totalAmount += amount;
        });

        $('#banknote-total-count').text(totalBanknotes);
        $('#banknote-total-amount').text(totalAmount.toFixed(2) + ' €');
    }

    // Function to update coins table
    function updateCoins() {
        let totalRolls = 0;
        let totalCoins = 0;
        let totalAmount = 0;

        $('.roll-count').each(function () {
            const rolls = parseInt($(this).val());
            const piecesPerRoll = parseInt($(this).closest('tr').find('.orange-cell').text());
            const totalPieces = rolls * piecesPerRoll;
            const amount = rolls * totalPieces; // Updated calculation

            $(this).closest('tr').find('.coin-count').text(totalPieces);
            $(this).closest('tr').find('.amount-t2').text(amount.toFixed(2) + ' €'); // Updated class used here
            totalRolls += rolls;
            totalCoins += totalPieces;
            totalAmount += amount;
        });

        $('#roll-total-count').text(totalRolls);
        $('#coin-total-count').text(totalCoins);
        $('#coin-total-amount').text(totalAmount.toFixed(2) + ' €');
    }

    // Function to update total amount
    function updateTotalAmount() {
        const banknoteTotal = parseFloat($('#banknote-total-amount').text().replace(' €', ''));
        const coinTotal = parseFloat($('#coin-total-amount').text().replace(' €', ''));
        const totalAmount = banknoteTotal + coinTotal;

        $('#total-amount').text(totalAmount.toFixed(2) + ' €');
    }

    // Event listeners
    $('.banknote-count').on('input', function () {
        updateBanknotes();
        updateTotalAmount();
    });

    $('.roll-count').on('input', function () {
        updateCoins();
        updateTotalAmount();
    });

    // Initial calculation
    updateBanknotes();
    updateCoins();
    updateTotalAmount();
});


</script>-->
<script>
    $(document).ready(function () {
        // Function to update banknotes table
        function updateBanknotes() {
            let totalBanknotes = 0;
            let totalAmount = 0;
            let only50_20_10 = true;
            let banknoteValues = [];
    
            $('.banknote-count').each(function () {
                const count = parseInt($(this).val());
                const value = parseFloat($(this).data('value'));
                const amount = count * value;
    
                $(this).closest('tr').find('.amount').text(amount.toFixed(2) + ' €');
                totalBanknotes += count;
                totalAmount += amount;
                
                if (count > 0) {
                    banknoteValues.push(value);
                }
    
                // Check if banknotes are not only 50€, 20€, or 10€
                if (value !== 50 && value !== 20 && value !== 10 && count > 0) {
                    only50_20_10 = false;
                }
            });
    
            $('#banknote-total-count').text(totalBanknotes);
            $('#banknote-total-amount').text(totalAmount.toFixed(2) + ' €');
    
            // Display alert if only 50€, 20€, or 10€ banknotes are selected
            if (only50_20_10 && banknoteValues.length > 0) {
                $('#alert-banknote-condition').removeClass('d-none');
            } else {
                $('#alert-banknote-condition').addClass('d-none');
            }
    
            // Display alert if total amount is less than 500€
            if (totalAmount < 500) {
                $('#alert-banknote-total').removeClass('d-none');
            } else {
                $('#alert-banknote-total').addClass('d-none');
            }
        }
    
        // Function to update coins table
        function updateCoins() {
            let totalRolls = 0;
            let totalCoins = 0;
            let totalAmount = 0;
    
            $('.roll-count').each(function () {
                const rolls = parseInt($(this).val());
                const piecesPerRoll = parseInt($(this).closest('tr').find('.orange-cell').text());
                const totalPieces = rolls * piecesPerRoll;
                const amount = rolls * totalPieces; // Using rolls * total pieces to calculate the total amount
    
                $(this).closest('tr').find('.coin-count').text(totalPieces);
                $(this).closest('tr').find('.amount-t2').text(amount.toFixed(2) + ' €');
                totalRolls += rolls;
                totalCoins += totalPieces;
                totalAmount += amount;
            });
    
            $('#roll-total-count').text(totalRolls);
            $('#coin-total-count').text(totalCoins);
            $('#coin-total-amount').text(totalAmount.toFixed(2) + ' €');
    
            // Display alert if the total number of rolls is less than 10
            if (totalRolls < 10) {
                $('#alert-coin-rolls').removeClass('d-none');
            } else {
                $('#alert-coin-rolls').addClass('d-none');
            }
        }
    
        // Function to update total amount
        function updateTotalAmount() {
            const banknoteTotal = parseFloat($('#banknote-total-amount').text().replace(' €', ''));
            const coinTotal = parseFloat($('#coin-total-amount').text().replace(' €', ''));
            const totalAmount = banknoteTotal + coinTotal;
    
            $('#total-amount').text(totalAmount.toFixed(2) + ' €');
        }
    
        // Event listeners
        $('.banknote-count').on('input', function () {
            updateBanknotes();
            updateTotalAmount();
        });
    
        $('.roll-count').on('input', function () {
            updateCoins();
            updateTotalAmount();
        });
    
        // Initial calculation
        updateBanknotes();
        updateCoins();
        updateTotalAmount();
    });
</script>
    
        
</body>
</html>
